# Описание сущностей (таблиц) базы данных

### 1. Roles (Роли)
Сущность, определяющая роли пользователей в системе. Используется для разграничения прав доступа и функционала.
| Имя поля | Тип | Ограничения | Описание |
|-----------|-------------|-----------------------------|-------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор роли |
| name | VARCHAR(50) | NOT NULL, UNIQUE | Название роли ('Admin', 'User') |

### 2. Users (Пользователи)
Хранит учетные данные и персональную информацию пользователей, а также связь с их ролью.
| Имя поля | Тип | Ограничения | Описание |
|------------|--------------|-----------------------------|---------------------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор пользователя |
| username | VARCHAR(100) | NOT NULL, UNIQUE | Уникальное имя пользователя |
| email | VARCHAR(255) | NOT NULL, UNIQUE | Электронная почта |
| password | VARCHAR(255) | NOT NULL | Хэшированный пароль |
| role_id | INT | FOREIGN KEY к Roles(id) | Ссылка на роль пользователя (**многие-к-одному с Roles**) |

### 3. Authors (Авторы)
Хранит информацию об авторах книг, включая их биографические данные.
| Имя поля | Тип | Ограничения | Описание |
|-----------|--------------|-----------------------------|-------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор автора |
| name | VARCHAR(255) | NOT NULL | Полное имя автора |
| country | VARCHAR(100) | NULLABLE | Страна происхождения |
| biography | TEXT | NULLABLE | Краткая биография автора |

### 4. Publishers (Издательства)
Содержит сведения об издательских домах, выпускающих книги.
| Имя поля | Тип | Ограничения | Описание |
|----------|--------------|-----------------------------|-----------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор издателя |
| name | VARCHAR(255) | NOT NULL, UNIQUE | Название издательства |
| address | VARCHAR(255) | NULLABLE | Адрес или местоположение издательства |

### 5. Genres (Жанры)
Справочник жанров книг, необходимый для классификации и фильтрации.
| Имя поля | Тип | Ограничения | Описание |
|----------|--------------|-----------------------------|-----------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор жанра |
| name | VARCHAR(100) | NOT NULL, UNIQUE | Название жанра ('Фантастика', 'Роман') |

### 6. Books (Книги)
Основная сущность системы. Содержит сведения о каждой книге, представленной в магазине.
| Имя поля | Тип | Ограничения | Описание |
|--------------|---------------|------------------------------|---------------------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор книги |
| title | VARCHAR(255) | NOT NULL | Название книги |
| description | TEXT | NULLABLE | Подробное описание книги |
| publication_year | YEAR | NULLABLE | Год публикации |
| price | DECIMAL(10, 2) | NOT NULL | Цена книги |
| author_id | INT | FOREIGN KEY к Authors(id) | Ссылка на автора (**многие-к-одному с Authors**) |
| publisher_id | INT | FOREIGN KEY к Publishers(id) | Ссылка на издателя (**многие-к-одному с Publishers**) |

### 7. BookMedia (Медиа-контент)
Сущность для хранения обложек, иллюстраций или других медиафайлов, связанных с книгами.
| Имя поля | Тип | Ограничения | Описание |
|------------|-----------------------|--------------------------------------|---------------------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор медиа-файла |
| book_id | INT | NOT NULL, FOREIGN KEY к Books(id) | Ссылка на книгу (**многие-к-одному с Books**) |
| media_type | ENUM('cover', 'illustration') | NOT NULL | Тип медиафайла |
| url | VARCHAR(255) | NOT NULL | Прямая ссылка (URL) на изображение |

### 8. Orders (Заказы)
Сущность, хранящая информацию о заказах пользователей.
| Имя поля | Тип | Ограничения | Описание |
|--------------|---------------|-------------------------------------|---------------------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор заказа |
| user_id | INT | NOT NULL, FOREIGN KEY к Users(id) | Ссылка на пользователя (**многие-к-одному с Users**) |
| order_date | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Дата и время оформления заказа |
| total_amount | DECIMAL(10, 2) | NOT NULL | Общая сумма заказа |

### 9. OrderItems (Позиции заказа)
Связующая таблица между заказами и книгами, отражающая состав заказа.
| Имя поля | Тип | Ограничения | Описание |
|-------------------|---------------|--------------------------------------|------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор позиции заказа |
| order_id | INT | NOT NULL, FOREIGN KEY к Orders(id) | Ссылка на заказ (**многие-к-одному с Orders**) |
| book_id | INT | NOT NULL, FOREIGN KEY к Books(id) | Ссылка на книгу (**многие-к-одному с Books**) |
| price_at_purchase | DECIMAL(10, 2) | NOT NULL | Цена книги на момент покупки |
| quantity | INT | NOT NULL | Количество экземпляров книги |
*Ограничение: UNIQUE(order_id, book_id)*

### 10. Reviews (Отзывы)
Сущность отзывов пользователей о купленных книгах.
| Имя поля | Тип | Ограничения | Описание |
|------------|-----------|--------------------------------------|---------------------------------------------------------------|
| id | INT | PRIMARY KEY, AUTO_INCREMENT | Уникальный идентификатор отзыва |
| user_id | INT | NOT NULL, FOREIGN KEY к Users(id) | Ссылка на автора отзыва (**многие-к-одному с Users**) |
| book_id | INT | NOT NULL, FOREIGN KEY к Books(id) | Ссылка на книгу (**многие-к-одному с Books**) |
| rating | INT | NOT NULL | Оценка (от 1 до 5) |
| comment | TEXT | NULLABLE | Текст отзыва |
| created_at | TIMESTAMP | NOT NULL, DEFAULT CURRENT_TIMESTAMP | Дата и время публикации отзыва |
*Ограничение: UNIQUE(user_id, book_id)*
